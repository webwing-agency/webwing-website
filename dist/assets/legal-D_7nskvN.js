async function r(e){var c;const a=await fetch(e,{cache:"no-store"});if(!a.ok){console.warn("no legal file",e);return}const t=await a.json();t.meta_title&&(document.title=t.meta_title),t.meta_description&&((c=document.querySelector('meta[name="description"]'))==null||c.setAttribute("content",t.meta_description));const o=document.querySelector(".page-title-small")||document.querySelector("h1");o&&t.page_title&&(o.textContent=t.page_title);const n=document.querySelector(".legal-content")||document.querySelector(".legal-section")||document.querySelector("main");if(n&&t.content_html){const i=t.content_html.split(/\n{2,}/).map(l=>`<p>${l.replace(/\n/g,"<br/>")}</p>`).join("");n.innerHTML=i}}async function s(){var n;const e=document.querySelector("main[data-legal]"),a=(n=e==null?void 0:e.dataset)==null?void 0:n.legal,o={impressum:"/data/impressum.json",privacy:"/data/privacy.json",agb:"/data/agb.json"}[a]||"/data/impressum.json";await r(o)}export{s as initLegalPage};
