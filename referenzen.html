<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referenzen - Unsere vergangenenen Projekte - Webwing Design Agency</title>
    <link rel="stylesheet" href="styles/global.css">
    <link rel="stylesheet" href="styles/responsive/desktop.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="js/nav.js" defer></script>
    <link rel="icon" href="/assets/icons/favicon.svg" type="image/svg+xml">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="js/gsap/gsap-global.js"></script>
</head>
<body>

    <header>

        <object data="assets/logo.svg" type="image/svg+xml" width="40" height="40" class="nav-logo"></object>

        <nav class="nav-links">
            <a href="index.html" class="nav-link">Home</a>
            <a href="referenzen.html" class="nav-link">Referenzen</a>
            <a href="dienstleistungen.html" class="nav-link">Dienstleistungen</a>
            <a href="kontakt.html" class="nav-link cta-link">Kontakt</a>
        </nav>

        <div class="hamburger-menu">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <div class="popup-menu">
            <div class="popup-menu-link-container">
                <a href="index.html" class="popup-link">Home</a>
                <a href="referenzen.html" class="popup-link">Referenzen</a>
                <a href="dienstleistungen.html" class="popup-link">Dienstleistungen</a>
                <a href="kontakt.html" class="popup-link">Kontakt</a>
                <a href="kostenloses-erstgespräch.html" class="popup-link">Erstgespräch buchen</a>
            </div>

            <div class="popup-menu-decorations">
                <span>Webwing Design Agency UG</span><span>+</span>
                <span><a href="mailto:contact@webwing.agency">contact@webwing.agency</a></span><span>+</span>
                <span><a href="tel:01234 123456">01234 123456</a></span><span>+</span>
                <span>Available for Work</span>
            </div>
            
        </div>

    </header>

    <main>

        <section class="references-page-fold">
      
          <h1 class="page-title-large references-page-title page-title">
            <!-- CMS: page title -->
          </h1>
      
          <div class="selection-flex">
            <!-- CMS: filter tags -->
      
            <div class="search-wrapper">
              <svg class="search-icon" viewBox="0 0 24 24" aria-hidden="true">
                <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" fill="none"></circle>
                <line x1="16.65" y1="16.65" x2="21" y2="21" stroke="currentColor" stroke-width="2"></line>
              </svg>
              <input type="text" class="search-bar" placeholder="">
            </div>
          </div>
      
          <div class="projects-grid">
      
            <!-- CMS: projects collection -->
            <div class="project-card grid-card">
      
              <div class="project-images-grid">
                <!-- CMS: images -->
                <img src="" alt="" class="project-image-1">
                <img src="" alt="" class="project-image-2">
                <img src="" alt="" class="project-image-3">
              </div>
      
              <h3 class="project-title">
                <!-- CMS: project title -->
              </h3>
      
              <div class="project-card-text-container flex">
      
                <ul class="project-specs">
                  <!-- CMS: repeatable specs -->
                  <li></li>
                </ul>
      
                <p class="project-description">
                  <!-- CMS: project description -->
                </p>
      
              </div>
      
              <div class="card-cta-container flex">
                <a href="" class="card-cta"></a>
                <a href="" class="card-cta"></a>
              </div>
      
            </div>
            <!-- /CMS project -->
      
          </div>
      
        </section>
      
        <div class="sticky-cta-container">
          <span class="cta-label"><!-- CMS --></span>
          <a href="" class="cta"><!-- CMS --></a>
        </div>
      
      </main>
      

    <footer>
        <div class="footer-content">
            
            <div class="logo-container">

                <object data="assets/logo.svg" type="image/svg+xml" width="40" height="40" class="logo"></object>

                <span class="slogan">Your Brand’s Wingman Online.</span>

            </div>

            <nav class="footer-nav">
                <a href="index.html">Home</a>
                <a href="referenzen.html">Projekte</a>
                <a href="dienstleistungen.html">Dienstleistungen</a>
                <a href="kontakt.html">Kontakt</a>
            </nav>
            <div class="legal-links">
                <a href="impressum.html">Impressum</a>
                <a href="datenschutzerklärung.html">Datenschutzerklärung</a>
            </div>
        </div>
    </footer>    
    
    <style>
        .references-page-fold {
            padding-bottom: 10rem;
        }

        .selection-flex {
            width: 100%;
            display: flex;
            gap: 1rem;
            margin-bottom: 5rem;
            flex-wrap: wrap-reverse;
        }

        .filter-select, .search-bar {
            background-color: var(--card-bg);
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
        }

        .filter-select, .search-bar::placeholder {
            font-weight: 500;
            font-size: var(--text-font-size);
        }

        .filter-select {
            flex: 1;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .search-wrapper {
            position: relative;
            flex: 2;
            min-width: 20rem;
        }

            .search-icon {
                position: absolute;
                left: 12px;
                top: 50%;
                transform: translateY(-50%);
                width: 18px;
                height: 18px;
                color: #fff;
                pointer-events: none;
            }

            .search-bar {
                width: 100%;
                padding: 10px 12px 10px 40px; 
                font-size: 16px;
                box-sizing: border-box;
                color: #fff;
            }


        .projects-grid {
            display: flex;
            flex-direction: column;
            gap: 3rem;
        }

        .project-images-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
            width: 100%;
            height: auto;
            
        }

                .project-image-1 {
                    /* should occupy first 3 columns and 2 rows */
                    grid-column: 1 / span 3;
                    grid-row: 1 / span 2;
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    border-radius: 15px;
                }

                .project-image-2 {
                    /* should occupy columns 4-5 and row 1 */
                    grid-column: 4 / span 2;
                    grid-row: 1 / span 1;
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    border-radius: 15px;
                }

                .project-image-3 {
                    /* should occupy columns 4-5 and row 2 */
                    grid-column: 4 / span 2;
                    grid-row: 2 / span 1;
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    border-radius: 15px;
                }

        .project-title {
            font-size: 2.5rem;
            font-weight: 600;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
        }

        .project-specs {
            list-style: none;
            padding: 0;
            margin: 0;
            margin-bottom: 1rem;
            font-size: var(--text-font-size);
            color: var(--text-color);
            line-height: 1.8;
        }

        .project-card-text-container {
            justify-content: space-between;
            gap: 2rem;
            flex-direction: column-reverse;
        }   

            .project-specs {
                flex: 1;
            }

            .project-description {
                flex: 3;
                font-size: var(--text-font-size);
                color: var(--text-color);
            }

        .card-cta-container {
            margin-top: 3rem;
        }


        .search-wrapper {
            position: relative;
            --search-count: "";
        }

        .search-wrapper::after {
            content: var(--search-count);
            display: block;
            margin-top: 0.25rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.5);
        }

        .search-highlight {
            background-color: rgba(255, 255, 0, 0.25);
            padding: 0 0.1em;
            border-radius: 2px;
        }



    </style>

<script>
    (function () {
      const wrapper = document.querySelector('.search-wrapper');
      const input = wrapper?.querySelector('.search-bar');
      const cards = Array.from(document.querySelectorAll('.project-card'));
    
      if (!wrapper || !input || cards.length === 0) return;
    
      const normalize = s =>
        (s || '')
          .toLowerCase()
          .normalize('NFD')
          .replace(/\p{Diacritic}/gu, '')
          .trim();
    
      const escapeRegExp = s =>
        s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    
      const debounce = (fn, wait = 100) => {
        let t;
        return (...args) => {
          clearTimeout(t);
          t = setTimeout(() => fn(...args), wait);
        };
      };
    
      // Build index + store originals
      const index = cards.map(card => {
        const titleEl = card.querySelector('.project-title');
        const descEl = card.querySelector('.project-description');
        const specsEl = card.querySelector('.project-specs');
    
        return {
          card,
          titleEl,
          descEl,
          specsEl,
          originalDisplay: card.style.display || '',
          titleHTML: titleEl?.innerHTML || '',
          descHTML: descEl?.innerHTML || '',
          specsHTML: specsEl?.innerHTML || '',
          searchText: normalize(
            `${titleEl?.textContent || ''} ${descEl?.textContent || ''} ${specsEl?.textContent || ''}`
          )
        };
      });
    
      const restore = item => {
        if (item.titleEl) item.titleEl.innerHTML = item.titleHTML;
        if (item.descEl) item.descEl.innerHTML = item.descHTML;
        if (item.specsEl) item.specsEl.innerHTML = item.specsHTML;
      };
    
      const highlightElement = (el, query) => {
        if (!el || !query) return;
    
        const rx = new RegExp(escapeRegExp(query), 'gi');
        const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, {
          acceptNode(node) {
            if (!node.nodeValue.trim()) return NodeFilter.FILTER_REJECT;
            if (node.parentNode.closest('mark.search-highlight')) {
              return NodeFilter.FILTER_REJECT;
            }
            return NodeFilter.FILTER_ACCEPT;
          }
        });
    
        const nodes = [];
        while (walker.nextNode()) nodes.push(walker.currentNode);
    
        nodes.forEach(node => {
          const text = node.nodeValue;
          let match;
          let last = 0;
          const frag = document.createDocumentFragment();
    
          while ((match = rx.exec(text)) !== null) {
            const i = match.index;
            if (i > last) {
              frag.appendChild(document.createTextNode(text.slice(last, i)));
            }
            const mark = document.createElement('mark');
            mark.className = 'search-highlight';
            mark.textContent = match[0];
            frag.appendChild(mark);
            last = i + match[0].length;
          }
    
          if (last < text.length) {
            frag.appendChild(document.createTextNode(text.slice(last)));
          }
    
          if (frag.childNodes.length) {
            node.parentNode.replaceChild(frag, node);
          }
    
          rx.lastIndex = 0;
        });
      };
    
      const runFilter = value => {
        const query = value.trim();
        const qNorm = normalize(query);
    
        if (!query) {
          index.forEach(item => {
            item.card.style.display = item.originalDisplay;
            restore(item);
          });
          wrapper.removeAttribute('data-count');
          return;
        }
    
        let visible = 0;
    
        index.forEach(item => {
          if (item.searchText.includes(qNorm)) {
            item.card.style.display = item.originalDisplay;
            restore(item);
            highlightElement(item.titleEl, query);
            highlightElement(item.descEl, query);
            highlightElement(item.specsEl, query);
            visible++;
          } else {
            item.card.style.display = 'none';
            restore(item);
          }
        });
    
        wrapper.setAttribute(
          'data-count',
          `${visible} von ${index.length} Ergebnissen`
        );
      };
    
      input.addEventListener(
        'input',
        debounce(e => runFilter(e.target.value))
      );
    
      // initial state
      runFilter('');
    })();
    </script>

    <script type="module" src="js/render/projects.js" defer></script>

        
        
    
    
</body>
</html>