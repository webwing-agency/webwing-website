<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kontaktieren sie uns - Webwing Design Agency UG - Your Brand's Wingman Online</title>
    <link rel="stylesheet" href="styles/global.css">
    <link rel="stylesheet" href="styles/responsive/desktop.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="js/nav.js" defer></script>
    <link rel="icon" href="/assets/icons/favicon.svg" type="image/svg+xml">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="js/gsap/gsap-global.js"></script>

    <script type="module" src="js/render/contact.js" defer></script>

</head>
<body>

    <header>

        <object data="assets/logo.svg" type="image/svg+xml" width="40" height="40" class="nav-logo"></object>

        <nav class="nav-links">
            <a href="index.html" class="nav-link">Home</a>
            <a href="referenzen.html" class="nav-link">Referenzen</a>
            <a href="dienstleistungen.html" class="nav-link">Dienstleistungen</a>
            <a href="kontakt.html" class="nav-link cta-link">Kontakt</a>
        </nav>

        <div class="hamburger-menu">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <div class="popup-menu">
            <div class="popup-menu-link-container">
                <a href="index.html" class="popup-link">Home</a>
                <a href="referenzen.html" class="popup-link">Referenzen</a>
                <a href="dienstleistungen.html" class="popup-link">Dienstleistungen</a>
                <a href="kontakt.html" class="popup-link">Kontakt</a>
                <a href="kostenloses-erstgespräch.html" class="popup-link">Erstgespräch buchen</a>
            </div>

            <div class="popup-menu-decorations">
                <span>Webwing Design Agency UG</span><span>+</span>
                <span><a href="mailto:contact@webwing.agency">contact@webwing.agency</a></span><span>+</span>
                <span><a href="tel:01234 123456">01234 123456</a></span><span>+</span>
                <span>Available for Work</span>
            </div>
            
        </div>

    </header>

    <main>

        <section class="contact-page-fold">
      
          <div class="contact-card">
      
            <div class="left-side">
      
              <h2 class="page-title-small contact-page-title page-title">
                <!-- CMS: title -->
              </h2>
      
              <p class="contact-page-subtitle">
                <!-- CMS: subtitle -->
              </p>
      
              <div class="contact-details-container">
      
                <!-- CMS: contact items -->
                <div class="contact-container">
                  <div class="contact-icon-container icon-container">
                    <object data="" type="image/svg+xml"></object>
                  </div>
                  <a href="" class="contact-link"></a>
                </div>
      
              </div>
      
            </div>
      
            <div class="right-side">
      
              <form class="contact-form">
                <!-- form stays static (not CMS-driven) -->
      
                <div class="form-group">
                  <label class="form-label" for="contactName"></label>
                  <input type="text" id="contactName" class="form-input" name="name">
                </div>
      
                <div class="form-group">
                  <label class="form-label" for="contactEmail"></label>
                  <input type="email" id="contactEmail" class="form-input" name="email">
                </div>
      
                <div class="form-group">
                  <label class="form-label" for="contactPhone"></label>
                  <input type="tel" id="contactPhone" class="form-input" name="phone">
                </div>
      
                <div class="form-group">
                  <label class="form-label" for="messageText"></label>
                  <textarea id="messageText" class="form-input form-input-text" name="message"></textarea>
                </div>
      
                <div class="submit-container">
                  <button type="submit" class="submit-button"></button>
                </div>
      
              </form>
      
            </div>
      
          </div>
      
        </section>
      
        <div class="sticky-cta-container">
          <span class="cta-label"><!-- CMS --></span>
          <a href="" class="cta"><!-- CMS --></a>
        </div>
      
      </main>
      

    <footer>
        <div class="footer-content">
            
            <div class="logo-container">

                <object data="assets/logo.svg" type="image/svg+xml" width="40" height="40" class="logo"></object>

                <span class="slogan">Your Brand’s Wingman Online.</span>

            </div>

            <nav class="footer-nav">
                <a href="index.html">Home</a>
                <a href="referenzen.html">Referenzen</a>
                <a href="dienstleistungen.html">Dienstleistungen</a>
                <a href="kontakt.html">Kontakt</a>
            </nav>
            <div class="legal-links">
                <a href="impressum.html">Impressum</a>
                <a href="datenschutzerklärung.html">Datenschutzerklärung</a>
            </div>
        </div>
    </footer>    

    <style>

        .contact-page-title {
            text-align: left;
        }

        .contact-page-fold {
            padding-bottom: 20rem;
            min-height: 100vh;
            margin-top: 0;
        }

        .contact-card {
        background-color: var(--card-bg);
        border-radius: 30px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
    }

        .left-side {
            width: 40%;
            padding: 4rem;
            background: radial-gradient(120% 90% at 17% 12%, rgba(230, 0, 255, 0.25) 0%, rgba(55, 0, 255, 0.25) 100%);
            border-radius: 25px 0px 0px 25px;
        }

            .contact-title {
                max-width: 90%;
            }

            .contact-paragraph {
                width: 85%;
            }

            .contact-details-container {
                margin-top: 2rem;
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }

                .contact-container {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }

                    .contact-icon-container {
                        background-color: rgba(230, 0, 255, 0.25);
                    }

                    .contact-link {
                        text-decoration: none;
                        color: #fff;
                    }

        .right-side {
            width: 60%;
            padding: 4rem;
        }

            .contact-form {
                display: flex;
                flex-direction: column;
                gap: 17px;
            }
                
                .form-group {
                    display: flex;
                    flex-direction: column;
                    gap: 3px;
                }
                
                    .form-label {
                        color: var(--text-muted);
                        font-size: 14px;
                        margin-left: 20px;
                    }
                    
                    .form-input {
                        background: var(--bg-soft);
                        border: 1px solid #2f2f33;
                        color: var(--text-main);
                        padding: 14px 18px;
                        border-radius: var(--radius-md);
                        font-size: var(--text-font-size);
                        outline: none;
                        transition: border var(--transition);
                        border-radius: 30px;
                    }

                    textarea {
                        font-family: 'Roboto', sans-serif;
                    }

                    .form-input-text {
                        height: 100px;
                    }
                    
                    .form-input::placeholder {
                        color: #6f6f75;
                    }
                    
                    .form-input:focus {
                        border-color: var(--accent);
                    }
                    
                        .submit-container {
                            margin-top: 12px;
                        }
                        
                            .submit-button {
                                width: 100%;
                                padding: 10px 0;
                                border-radius: 999px;
                                border: 1px solid rgba(255, 255, 255, 0.25);
                                cursor: pointer;
                                font-weight: 600;
                                color: black;
                                background: white;
                                transition: 0.5s;
                            }
                            
                            .submit-button:hover {
                                background: var(--accent-color);
                                color: white;
                                transition: 0.5s;
                            }
    </style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      const API_BASE = window.API_BASE || 'http://localhost:3000';
      const form = document.querySelector('.contact-form');
      if (!form) return;
    
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const name = document.getElementById('contactName').value.trim();
        const email = document.getElementById('contactEmail').value.trim();
        const phone = document.getElementById('contactPhone').value.trim();
        const message = document.getElementById('messageText').value.trim();
    
        if (!name || !email || !message) {
          alert('Bitte Name, E-Mail und Nachricht ausfüllen.');
          return;
        }
    
        // Turnstile token - widget injects an input named "cf-turnstile-response" after challenge
        const tokenEl = document.querySelector('input[name="cf-turnstile-response"]');
        const token = tokenEl ? tokenEl.value : null;
    
        // If you temporarily enabled ALLOW_CONTACT_NO_CAPTCHA on backend, token may be omitted.
        const payload = { name, email, phone, message, token };
    
        const submitBtn = form.querySelector('button[type="submit"]');
        submitBtn.disabled = true;
        submitBtn.dataset.orig = submitBtn.textContent;
        submitBtn.textContent = 'Senden…';
    
        try {
          const res = await fetch(`${API_BASE}/api/contact`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          const data = await res.json();
          if (res.ok) {
            alert('Danke — Ihre Nachricht wurde gesendet.');
            form.reset();
            // reset Turnstile if included
            if (typeof turnstile !== 'undefined' && typeof turnstile.reset === 'function') {
              // there may be multiple widgets; this resets all
              try { turnstile.reset(); } catch(e){ /* ignore */ }
            }
          } else {
            alert('Fehler: ' + (data?.message || 'Serverfehler'));
          }
        } catch (err) {
          console.error('Contact submit error', err);
          alert('Netzwerkfehler. Bitte später versuchen.');
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = submitBtn.dataset.orig || 'Senden';
        }
      });
    });
    </script>

    
</body>
</html>